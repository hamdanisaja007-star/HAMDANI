<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>SIKEPAL V.ULTRA - BKL MODULE</title>
    <style>
        :root { --azure: #007fff; --cyan: #00f0ff; --dark: #020205; }
        body {
            background: var(--dark); color: white; font-family: 'Consolas', monospace;
            margin: 0; padding: 40px;
            background-image: linear-gradient(rgba(0, 127, 255, 0.05) 1px, transparent 1px), 
                              linear-gradient(90deg, rgba(0, 127, 255, 0.05) 1px, transparent 1px);
            background-size: 30px 30px;
        }
        .config-panel {
            max-width: 700px; margin: 0 auto;
            background: rgba(5, 5, 10, 0.95);
            border: 1px solid var(--azure); border-top: 4px solid var(--azure);
            padding: 30px; box-shadow: 0 0 30px rgba(0, 127, 255, 0.2);
        }
        .title { color: var(--azure); font-size: 22px; font-weight: bold; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 25px; text-transform: uppercase; text-shadow: 0 0 10px var(--azure); }
        
        label { display: block; margin-top: 15px; color: var(--cyan); font-size: 13px; font-weight: bold; }
        
        select, input {
            width: 100%; padding: 12px; margin-top: 5px;
            background: rgba(0, 127, 255, 0.05); border: 1px solid #444;
            color: white; font-family: 'Consolas', monospace; box-sizing: border-box;
        }

        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .btn-launch {
            width: 100%; padding: 18px; margin-top: 30px;
            background: transparent; border: 2px solid var(--azure);
            color: var(--azure); font-weight: bold; font-size: 18px;
            cursor: pointer; transition: 0.3s; text-transform: uppercase;
        }
        .btn-launch:hover { background: var(--azure); color: black; box-shadow: 0 0 40px var(--azure); }
        .back-link { display: block; margin-top: 25px; text-align: center; color: #666; text-decoration: none; font-size: 12px; }
    </style>
</head>
<body>
    <div class="config-panel">
        <div class="title">üë¥ MODUL BINA KELUARGA LANSIA (BKL)</div>
        
        <div class="grid-2">
            <div>
                <label>üì° DESA/KELURAHAN:</label>
                <select id="desa">
                    {% for d in desas %}<option value="{{ d }}">{{ d }}</option>{% endfor %}
                </select>
            </div>
            <div>
                <label>üìÖ BULAN LAPORAN:</label>
                <input type="month" id="periode">
            </div>
        </div>

        <label>üè´ NAMA KELOMPOK BKL:</label>
        <input type="text" id="kelompok" placeholder="Contoh: BKL SENJA SEJAHTERA">

        <label>üìë MATERI PENYULUHAN LANSIA:</label>
        <select id="materi">
            <option>7 Dimensi Lansia Tangguh</option>
            <option>Perawatan Jangka Panjang (PJP)</option>
            <option>Kesehatan Fisik dan Mental Lansia</option>
            <option>Lingkungan Ramah Lansia</option>
        </select>

        <button class="btn-launch" onclick="launchBKL()">üöÄ JALANKAN AUTO-ENTRY BKL</button>
        
        <a href="/" class="back-link">‚Üê KEMBALI KE COMMAND CENTER</a>
    </div>

    <script>
        document.getElementById('periode').value = new Date().toISOString().substring(0, 7);

        function launchBKL() {
            const data = {
                target: "BKL_MODUL",
                mode: "robot",
                desa: document.getElementById('desa').value,
                periode: document.getElementById('periode').value,
                kelompok: document.getElementById('kelompok').value,
                materi: document.getElementById('materi').value
            };

            fetch('/handler', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            })
            .then(res => res.json())
            .then(d => alert("Robot BKL Siap Beraksi!"));
        }
    </script>
</body>
</html>